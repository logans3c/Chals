{% extends 'base.html' %}

{% block title %}User Statistics - NINJA Auth App{% endblock %}

{% block content %}
<section class="activity-container">
    <div class="activity-box">
        <h2>Complete User Statistics</h2>
        <div class="user-stats">
            <h3>{{ username }}</h3>
            <div class="stats-heading">Note Activity</div>
            <div class="stats-item">
                <span>Total Notes:</span>
                <p>{{ note_count }}</p>
            </div>
            <div class="stats-item">
                <span>Note Count Rank:</span>
                <p>#{{ note_rank }}</p>
            </div>
            
            <div class="stats-heading">Word Activity</div>
            <div class="stats-item">
                <span>Total Words Written:</span>
                <p>{{ word_count }}</p>
            </div>
            <div class="stats-item">
                <span>Word Count Rank:</span>
                <p>#{{ word_rank }}</p>
            </div>
            
            <div class="stats-item">
                <span>Average Words per Note:</span>
                <p>{% if note_count > 0 %}{{ (word_count / note_count) | round(1) }}{% else %}0{% endif %}</p>
            </div>
        </div>
        
        <div class="activity-actions">
            <a href="{{ url_for('user_activity', action='note_count', username=username) }}" class="btn primary">View Note Count</a>
            <a href="{{ url_for('user_activity', action='word_count', username=username) }}" class="btn primary">View Word Count</a>
            <a href="{{ url_for('index') }}" class="btn secondary">Back to Home</a>
        </div>
    </div>
    
    <div class="activity-search">
        <h3>Check Another User's Statistics</h3>
        <form method="get" action="{{ url_for('user_activity') }}" class="search-form">
            <input type="hidden" name="action" value="user_stats">
            <div class="form-group">
                <input type="text" id="username" name="username" required placeholder="Enter username">
            </div>
            <div class="form-actions">
                <button type="submit" class="btn primary">Check Stats</button>
            </div>
        </form>
    </div>
</section>
{% endblock %}
