{% extends 'base.html' %}

{% block title %}Home - NINJA Auth App{% endblock %}

{% block content %}
<section class="hero">
    <div class="container">
        <h1>Welcome to NINJA Authentication App</h1>
        {% if current_user.is_authenticated %}
            <p>Hello, {{ current_user.username }}! You're logged in.</p>
            <div class="actions">
                <a href="{{ url_for('profile') }}" class="btn primary">View Profile</a>
                <a href="{{ url_for('notes') }}" class="btn primary">My Notes</a>
                <a href="{{ url_for('auth', action='logout') }}" class="btn secondary">Logout</a>
            </div>
        {% else %}
            <p>Please login or register to access all features.</p>
            <div class="actions">
                <a href="{{ url_for('auth', action='login') }}" class="btn primary">Login</a>
                <a href="{{ url_for('auth', action='register') }}" class="btn secondary">Register</a>
            </div>
        {% endif %}
    </div>
</section>

<section class="activity-features">
    <h2>Check User Activities</h2>
    <div class="activity-cards">
        <div class="activity-card">
            <h3>Note Count</h3>
            <p>See how many notes users have created</p>
            <button class="activity-select-btn btn primary" 
                    data-activity="note_count" 
                    data-username="{{ current_user.username if current_user.is_authenticated else '' }}">
                Check Note Count
            </button>
        </div>
        
        <div class="activity-card">
            <h3>Word Count</h3>
            <p>See how many words users have written</p>
            <button class="activity-select-btn btn primary" 
                    data-activity="word_count" 
                    data-username="{{ current_user.username if current_user.is_authenticated else '' }}">
                Check Word Count
            </button>
        </div>
        
        <div class="activity-card">
            <h3>User Statistics</h3>
            <p>See complete user statistics</p>
            <button class="activity-select-btn btn primary" 
                    data-activity="user_stats" 
                    data-username="{{ current_user.username if current_user.is_authenticated else '' }}">
                Check Statistics
            </button>
        </div>
    </div>
    
    {% if not current_user.is_authenticated %}
    <div class="activity-search-box">
        <h3>Check Activity for a Specific User</h3>
        <div class="activity-search-form">
            <input type="text" id="activity-username" placeholder="Enter username">
            <select id="activity-type">
                <option value="note_count">Note Count</option>
                <option value="word_count">Word Count</option>
                <option value="user_stats">User Statistics</option>
            </select>
            <button onclick="goToActivity(document.getElementById('activity-type').value)" class="btn primary">
                Check Activity
            </button>
        </div>
    </div>
    {% endif %}
</section>
{% endblock %}
